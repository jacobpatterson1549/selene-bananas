<script defer src="/js/user.js"></script>
<script defer src="/js/game.js"></script>
<link rel="stylesheet" href="/tabs.css">
<div class=tabs>
    <div>
        <input id="tab-1" type="radio" name="tab-group">
        <label for="tab-1">Create User</label>
        <div>
            <a href="/user_create">Create User</a>
        </div>
        <!-- TODO: hide when signed in -->
    </div>
    <div>
        <input id="tab-2" type="radio" name="tab-group" checked>
        <label for="tab-2">Sign In</label>
        <!-- TODO: hide when signed in -->
        <div>
            <form onsubmit="user.login(event)">
                <fieldset>
                    <legend>Enter credentials</legend>
                    {{ template "username.html" . }}
                    {{ template "password.html" . }}
                    <input type="submit" value="Login">
                </fieldset>
                <input type="submit">
            </form>
        </div>
    </div>
    <div>
        <input id="tab-3" type="radio" name="tab-group">
        <label for="tab-3">Lobby</label>
        <!-- TODO: only show if signed in and websocket is empty-->
        <div>
            <!-- TODO: Lobby content -->
            <button type="button" id="game-snag" onclick="game.create()">Create Game</button>
        </div>
    </div>
    <div>
        <input id="tab-4" type="radio" name="tab-group">
        <label for="tab-4">Game</label>
        <!-- TODO: only show if signed in and websocket is not empty-->
        <div>
            <!-- TODO: Game tab content -->
            <button type="button" onclick="game.start()" title="Starts the game for everyone.">Start</button>
            <button type="button" onclick="game.snag()"
                title="Get a new tile when you have run out of tiles.  All other players also get a tile.">Snag</button>
            <button type="button" onclick="game.swap()" disabled
                title="Swap 1 tile for three new ones in the pile.">Swap</button>
            <button type="button" onclick="game.finish()" disabled
                title="Requests words to be checked.  To win, all tiles must be connected to form one group of actual words when the tile pile is empty.">Finish</button>
        </div>
    </div>
    <div>
        <input id="tab-5" type="radio" name="tab-group">
        <label for="tab-5">Change Password</label>
        <!-- TODO: only show if signed in -->
        <div>
            <form onsubmit="user.update_password(event)">
                <fieldset>
                    <legend>Enter credentials</legend>
                    {{ template "username.html" . }}
                    {{ template "password.html" . }}
                    <fieldset>
                        <legend>New Password:</legend>
                        {{ template "password_confirm.html" . }}
                    </fieldset>
                    <input type="submit" value="Change">
                </fieldset>
            </form>
        </div>
    </div>
    <div>
        <input id="tab-6" type="radio" name="tab-group">
        <label for="tab-6">Delete User</label>
        <!-- TODO: only show if signed in -->
        <div>
            <form onsubmit="user.update_password(event)">
                <fieldset>
                    <legend>Enter credentials</legend>
                    {{ template "username.html" . }}
                    <!-- TODO: autofill user input, make disabled-->
                    {{ template "password.html" . }}
                    <input type="submit" value="Change">
                </fieldset>
            </form>
        </div>
    </div>
    <div>
        <input id="tab-7" type="radio" name="tab-group">
        <label for="tab-7" onclick="user.logout()">Sign Out</label>
        <!-- TODO: only show if signed in -->
        <div>
            <button type="button" onclick="user.logout()">Sign Out</button>
        </div>
    </div>
</div>